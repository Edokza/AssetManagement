<h2>Assets</h2>

<!-- Toolbar -->
<div class="toolbar">
  <button
    pButton
    label="Add Asset"
    icon="pi pi-plus"
    (click)="openNew()"
  ></button>
</div>

<!-- Asset Table -->
<p-table
  [value]="assets"
  [paginator]="true"
  [rows]="10"
  responsiveLayout="scroll"
>

  <!-- Header -->
  <ng-template pTemplate="header">
    <tr>
      <th>Name</th>
      <th>Serial Number</th>
      <th>Category</th>
      <th width="120">Action</th>
    </tr>
  </ng-template>

  <!-- Body -->
  <ng-template pTemplate="body" let-asset>
    <tr>

      <!-- Asset Name -->
      <td>{{ asset.assetName }}</td>

      <!-- Serial -->
      <td>{{ asset.serialNumber }}</td>

      <!-- Category -->
      <td>{{ asset.categoryName }}</td>

      <!-- Action -->
      <td>
        <!-- Edit -->
        <button
          pButton
          icon="pi pi-pencil"
          class="p-button-text p-button-sm"
          (click)="edit(asset.assetId)"
        ></button>

        <!-- Delete -->
        <button
          pButton
          icon="pi pi-trash"
          class="p-button-text p-button-danger p-button-sm"
          (click)="delete(asset.assetId)"
        ></button>

      </td>
    </tr>
  </ng-template>

</p-table>

<p-dialog
  header="Asset"
  [(visible)]="displayDialog"
  [modal]="true"
  [style]="{ width: '400px' }"
>

  <form [formGroup]="assetForm">

    <div class="field">
      <label>AssetName</label>
      <input pInputText formControlName="assetName" />
    </div>

    <div class="field">
      <label>Category</label>

      <p-select
        [options]="categories"
        optionLabel="categoryName"
        optionValue="categoryId"    
        formControlName="categoryId"
        appendTo="body"
      ></p-select>
    </div>

    <div class="field">
      <label>SerialNumber</label>
      <input pInputText formControlName="serialNumber" />
    </div>

  </form>

  <ng-template pTemplate="footer">
    <button
      pButton
      label="Save"
      (click)="save()"
      [disabled]="assetForm.invalid"
    ></button>
  </ng-template>

</p-dialog>

